<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Tr√°fico Inteligente - Modular Evolution</title>
    <link rel="stylesheet" href="css/styles.css">

    <!-- Scripts L√≥gicos -->
    <script src="js/Car.js"></script>
    <script src="js/Road.js"></script>
    <script src="js/TrafficLight.js"></script>
    <script src="js/Sensor.js"></script>
    <script src="js/Navigator.js"></script>

    <!-- Controladores de Tr√°fico (Fase 3) -->
    <script src="js/controllers/TrafficController.js"></script>
    <script src="js/controllers/FixedTimeController.js"></script>
    <script src="js/controllers/AdaptiveController.js"></script>

    <!-- Scripts de Renderizado -->
    <script src="js/renderer/Renderer.js"></script>
    <script src="js/renderer/DOMRenderer.js"></script>

    <!-- Core -->
    <script src="js/Simulator.js"></script>
    <script src="js/main.js"></script>
</head>

<body>
    <!-- Controles Esquina Superior Izquierda -->
    <div class="top-left-controls">
        <div class="mini-control">
            <label>Modo:</label>
            <select id="selModoTL">
                <option value="adaptive" selected>Adapt.</option>
                <option value="fixed">Fijo</option>
            </select>
        </div>
        <div class="mini-control">
            <label>T.Max:</label>
            <input type="number" id="txtPriMax" min="60" max="300" value="120">
        </div>
        <div class="mini-control">
            <label>T.Min:</label>
            <input type="number" id="txtPriMin" min="5" max="60" value="30">
        </div>
        <div class="mini-control">
            <label>Verde:</label>
            <input type="number" id="txtHorz" min="3" max="30" value="5">
        </div>
        <div class="mini-control">
            <label>L√≠mite:</label>
            <input type="number" id="txtMaxAutos" min="1" max="15" value="5">
        </div>
        <div class="mini-control">
            <label>Dens.:</label>
            <input type="number" id="densityMain" min="1" max="10" value="3" step="0.5">
        </div>
        <button id="btnApply" class="mini-btn">‚úÖ Aplicar</button>
    </div>

    <!-- Info Esquina Superior Derecha -->
    <div class="top-right-info">
        <div class="mini-info">
            <span>üöó Cruzados:</span>
            <span id="autosCount">0</span>
        </div>
        <div class="mini-info">
            <span>Estado:</span>
            <span id="statusTxt">Inactivo</span>
        </div>
        <div class="mini-info timer-dual">
            <span>‚è±Ô∏è:</span>
            <span id="timer">0s</span>
        </div>
    </div>

    <!-- Controles (Botones superiores) -->
    <div class="controls">
        <button id="btnPlay">‚ñ∂ Play</button>
        <button id="btnStop">‚ñ† Stop</button>
    </div>

    <div id="scene" class="scene">
        <!-- Carreteras -->
        <div class="main-road"></div>
        <div class="secondary-road"></div>

        <!-- L√≠neas de carretera -->
        <div class="center-line-v"></div>
        <div class="center-line-h"></div>

        <!-- Sem√°foros -->
        <div id="pri1" class="traffic-light p1">
            <div class="bulb"></div>
            <div class="bulb"></div>
            <div class="bulb"></div>
        </div>
        <div id="pri2" class="traffic-light p2">
            <div class="bulb"></div>
            <div class="bulb"></div>
            <div class="bulb"></div>
        </div>
        <div id="sec1" class="traffic-light horizontal s1">
            <div class="bulb"></div>
            <div class="bulb"></div>
            <div class="bulb"></div>
        </div>
        <div id="sec2" class="traffic-light horizontal s2">
            <div class="bulb"></div>
            <div class="bulb"></div>
            <div class="bulb"></div>
        </div>

        <!-- Sensores -->
        <div id="sV1" class="sensor s1"></div>
        <div id="sV2" class="sensor s2"></div>

        <!-- Botones de Acci√≥n (Spawn) -->
        <button class="btn-spawn btn-left" data-side="left">A√±adir Auto ‚ûî</button>
        <button class="btn-spawn btn-right" data-side="right">‚¨Ö A√±adir Auto</button>
    </div>

    <div style="text-align: center; margin-top: 10px; font-size: 12px; color: #666;">
        Fase 1: Desacoplamiento de L√≥gica y Renderizado Completado
    </div>
</body>

</html>