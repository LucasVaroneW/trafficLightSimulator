<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de TrÃ¡fico Inteligente - Modular Evolution</title>
    <link rel="stylesheet" href="css/styles.css">

    <!-- Scripts LÃ³gicos -->
    <script src="js/Car.js"></script>
    <script src="js/Road.js"></script>
    <script src="js/TrafficLight.js"></script>
    <script src="js/Sensor.js"></script>
    <script src="js/Navigator.js"></script>

    <!-- Controladores de TrÃ¡fico (Fase 3) -->
    <script src="js/controllers/TrafficController.js"></script>
    <script src="js/controllers/FixedTimeController.js"></script>
    <script src="js/controllers/AdaptiveController.js"></script>

    <!-- Scripts de Renderizado -->
    <script src="js/renderer/Renderer.js"></script>
    <script src="js/renderer/DOMRenderer.js"></script>

    <!-- Core -->
    <script src="js/Simulator.js"></script>
    <script src="js/main.js"></script>
</head>

<body>
    <!-- Panel de Control Avanzado -->
    <div class="control-panel">
        <h3>ğŸ›ï¸ Panel de Control</h3>

        <!-- Modo de SemÃ¡foro -->
        <div class="control-group">
            <label>ğŸš¦ Modo de Control:</label>
            <select id="selModoTL" class="control-select">
                <option value="adaptive" selected>ğŸ§  Adaptativo (Sensores)</option>
                <option value="fixed">â±ï¸ Tiempos Fijos</option>
            </select>
        </div>

        <!-- Tiempos de SemÃ¡foro -->
        <div class="control-group">
            <label>ğŸŸ¢ Verde Principal: <span id="valPri">120</span>s</label>
            <input type="range" id="txtPri" min="10" max="180" value="120" class="slider">
        </div>

        <div class="control-group">
            <label>ğŸŸ¢ Verde Secundaria: <span id="valSec">5</span>s</label>
            <input type="range" id="txtSec" min="3" max="30" value="5" class="slider">
        </div>

        <div class="control-group">
            <label>â³ Intervalo MÃ­nimo: <span id="valInt">30</span>s</label>
            <input type="range" id="txtInt" min="5" max="60" value="30" class="slider">
        </div>

        <div class="control-group">
            <label>ğŸš— LÃ­mite Autos Sec.: <span id="valMaxAutos">5</span></label>
            <input type="range" id="txtMaxAutos" min="1" max="15" value="5" class="slider">
        </div>

        <!-- Control de Densidad de TrÃ¡fico -->
        <div class="control-group">
            <label>ğŸš™ Densidad Principal: <span id="valDensityMain">3</span>s</label>
            <input type="range" id="densityMain" min="1" max="10" value="3" step="0.5" class="slider">
        </div>

        <!-- BotÃ³n de Aplicar Cambios -->
        <button id="btnApply" class="btn-apply">âœ… Aplicar Cambios</button>
    </div>

    <!-- Panel de InformaciÃ³n Mejorado -->
    <div class="info-panel">
        <h3>ğŸ“Š Estado del Sistema</h3>
        <div class="info-item">
            <span class="info-label">ğŸš— Autos Cruzados:</span>
            <span class="info-value" id="autosCount">0</span>
        </div>
        <div class="info-item">
            <span class="info-label">ğŸš¦ Estado:</span>
            <span class="info-value" id="statusTxt">Inactivo</span>
        </div>
        <div class="info-item timer-display">
            <span class="info-label">â±ï¸ Tiempo:</span>
            <span class="info-value timer-value" id="timer">0</span>
        </div>
    </div>

    <!-- Controles (Botones superiores) -->
    <div class="controls">
        <button id="btnPlay">â–¶ Play</button>
        <button id="btnStop">â–  Stop</button>
    </div>

    <div id="scene" class="scene">
        <!-- Carreteras -->
        <div class="main-road"></div>
        <div class="secondary-road"></div>

        <!-- LÃ­neas de carretera -->
        <div class="center-line-v"></div>
        <div class="center-line-h"></div>

        <!-- SemÃ¡foros -->
        <div id="pri1" class="traffic-light p1">
            <div class="bulb"></div>
            <div class="bulb"></div>
            <div class="bulb"></div>
        </div>
        <div id="pri2" class="traffic-light p2">
            <div class="bulb"></div>
            <div class="bulb"></div>
            <div class="bulb"></div>
        </div>
        <div id="sec1" class="traffic-light horizontal s1">
            <div class="bulb"></div>
            <div class="bulb"></div>
            <div class="bulb"></div>
        </div>
        <div id="sec2" class="traffic-light horizontal s2">
            <div class="bulb"></div>
            <div class="bulb"></div>
            <div class="bulb"></div>
        </div>

        <!-- Sensores -->
        <div id="sV1" class="sensor s1"></div>
        <div id="sV2" class="sensor s2"></div>

        <!-- Botones de AcciÃ³n (Spawn) -->
        <button class="btn-spawn btn-left" data-side="left">AÃ±adir Auto â”</button>
        <button class="btn-spawn btn-right" data-side="right">â¬… AÃ±adir Auto</button>
    </div>

    <div style="text-align: center; margin-top: 10px; font-size: 12px; color: #666;">
        Fase 1: Desacoplamiento de LÃ³gica y Renderizado Completado
    </div>
</body>

</html>